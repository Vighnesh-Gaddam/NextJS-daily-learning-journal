# ðŸŽ¬ Notes: Intercepting Routes in Next.js

## ðŸ”¹ What are Intercepting Routes?

* They allow you to **show a route inside a modal (popup)** without fully navigating away from the current page.
* If you refresh the page, instead of the modal, you see the **full page route** for that resource.

ðŸ‘‰ Example:

* You have an **e-commerce site** with products.
* Clicking a product opens it in a **popup modal** (intercepted route).
* Refreshing the page shows the **product details page** normally.

---

## ðŸ”¹ How They Work

* Next.js introduces a **special folder naming convention**:

  ```
  (.)routeName
  ```

  * `(.)` â†’ Means intercept inside the same route folder.
  * `routeName` â†’ The actual route (like `1`, `2`, `login`, etc.).

ðŸ‘‰ Example structure:

```
app/
  e-commerce/
    page.tsx           // Products listing page
    [id]/page.tsx      // Product details (full page)
    (.)[id]/page.tsx   // Product details (intercepted modal)
```

---

## ðŸ”¹ Behavior

1. **Click product** â†’ Opens `/(.)[id]` â†’ modal shown.
2. **Refresh page** â†’ Opens `/[id]` â†’ full page view.

---

## ðŸ”¹ Steps to Set Up

1. Create your main listing page (`/e-commerce/page.tsx`) with links:

   ```tsx
   <Link href={`/e-commerce/${product.id}`}>{product.name}</Link>
   ```

2. Create the **actual product page**:

   ```
   app/e-commerce/[id]/page.tsx
   ```

   This will render when user **refreshes or navigates directly**.

3. Create the **intercepted modal route**:

   ```
   app/e-commerce/(.)[id]/page.tsx
   ```

   This will render the product **inside a modal** when clicked.

   Example modal code:

   ```tsx
   export default function InterceptedProduct({ params }: { params: { id: string } }) {
     return (
       <div className="fixed inset-0 flex items-center justify-center bg-black/50">
         <div className="bg-white p-4 rounded-lg">
           <button className="absolute top-2 right-2">X</button>
           <h1>Product {params.id}</h1>
           <p>Details about product {params.id}</p>
         </div>
       </div>
     );
   }
   ```

---

## ðŸ”¹ Key Points from Transcript

* Always **delete `.next/` folder** after adding intercepted routes (Next.js caches aggressively).
* `(.)` means look in the **same level folder**.
* You can also use:

  * `(..)route` â†’ go one level up
  * `(..)(..)route` â†’ go two levels up
* Useful for modals like:

  * Product previews
  * Image gallery popups
  * Login/register popups

---

âš¡ So in short:

* **Intercepting Routes = modal version of a page + full page version on refresh.**
* Built directly into **Next.js 13 App Router** using `(.)` folder convention.

---