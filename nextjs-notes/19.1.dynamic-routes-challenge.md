# ðŸ† Challenge: Dynamic Book Routes

## ðŸŽ¯ Goal

Create a dynamic backend route to fetch a **book by its ID**.

---

## ðŸ“ Instructions

1. Inside `app/books/[id]/route.ts`, create a **GET API**.
2. Use `params.id` to find a book in the `books` array (from `db.ts`).
3. Return the book if found, otherwise return `{ "error": "Book not found" }` with status `404`.

---

## ðŸ“‚ Example db.ts

```ts
export const books = [
  { id: 1, title: "Atomic Habits", author: "James Clear" },
  { id: 2, title: "The Pragmatic Programmer", author: "Andrew Hunt" },
  { id: 3, title: "Clean Code", author: "Robert C. Martin" },
];
```

---

## âœ… Expected Behavior

* **GET `/books/2`** â†’ returns:

```json
{
  "id": 2,
  "title": "The Pragmatic Programmer",
  "author": "Andrew Hunt"
}
```

* **GET `/books/99`** â†’ returns:

```json
{
  "error": "Book not found"
}
```

with status `404`.

---

## ðŸ“ Solution

### app/books/\[id]/route.ts

```ts
import { books } from "../../../db";

export async function GET(
  _request: Request,
  { params }: { params: { id: string } }
) {
  const { id } = params;
  const book = books.find((b) => b.id === +id);

  if (book) {
    return Response.json(book);
  } else {
    return new Response(JSON.stringify({ error: "Book not found" }), {
      status: 404,
      headers: { "Content-Type": "application/json" },
    });
  }
}
```

---

âœ… Now you can fetch **books dynamically by ID** at `http://localhost:3000/books/[id]`.

---