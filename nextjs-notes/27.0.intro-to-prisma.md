# ðŸ“š Notes: Prisma Overview

## ðŸ“Œ What is Prisma?

* **Prisma** is a modern **ORM (Object Relational Mapper)** for JavaScript and TypeScript.
* It allows developers to interact with databases using **JavaScript/TypeScript instead of raw SQL**.
* Prisma provides an **API to manage database queries** in a simpler, beginner-friendly way.

ðŸ‘‰ Think of it as a bridge between your code and the database, removing the need to manually handle complex SQL.

---

## ðŸš« Life Without Prisma

* Traditional **DBMS** (like MySQL, PostgreSQL) require:

  * Learning **SQL** deeply.
  * Managing schema updates manually.
  * Handling migrations and errors directly.

âš ï¸ This makes database interaction **complex and error-prone**.

---

## âœ… Benefits of Prisma

* No need to manually write SQL queries.
* Reduces errors by **matching code to database schema**.
* Schema changes become **easy and safe**.
* Beginner-friendly with **minimal setup**.
* Uses modern stack â†’ smooth & efficient interaction.
* Scales well for **large projects**.
* Automatically **generates code for queries**.
* Actively maintained â†’ ready for future tech changes.

---

## ðŸ› ï¸ Prisma Tools

### ðŸ”¹ Prisma Client

* Auto-generated query builder.
* Lets you **read/write** to the database with simple JS/TS code.
* Example: `prisma.user.findMany()` instead of SQL.

### ðŸ”¹ Prisma Migrate

* Handles **schema changes** (migrations).
* Helps add/remove tables or columns safely.
* Keeps schema in sync with your database.

### ðŸ”¹ Prisma Studio

* A **visual UI** to view, edit, and manage your data.
* Works like a mini admin panel, no SQL required.

---

## âš™ï¸ Prisma Installation & Setup

### 1. Initialize Project

```bash
npm init -y
```

### 2. Install TypeScript & Dev Dependencies

```bash
npm i -D typescript ts-node @types/node
npx tsc --init
```

### 3. Install Prisma

```bash
npm i -D prisma
npx prisma init
```

### 4. Choose Database Provider

* Example: `sqlite` (file-based DB, easy for learning).
* Others: `postgresql`, `mysql`, `mongodb`.

ðŸ‘‰ This creates a `prisma/schema.prisma` file.

---

## ðŸ—ï¸ Prisma Schema & Models

* The schema defines **how data looks** in your database.
* Example: Modeling a **Movie** entity.

```prisma
model Movie {
  id          Int      @id @default(autoincrement())
  title       String
  description String
  genre       String
  releaseDate DateTime
  rating      Float?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}
```

ðŸ”¹ Features:

* `id` â†’ Auto-incremented primary key.
* `title`, `description`, `genre` â†’ Strings.
* `releaseDate` â†’ DateTime.
* `rating` â†’ Optional float.
* `createdAt` & `updatedAt` â†’ Auto-managed timestamps.

---

## ðŸ”„ Migrations

* Apply schema changes with:

```bash
npx prisma migrate dev --name init
```

* Creates database file (`dev.db` for SQLite) + migration SQL.

---

## ðŸ‘€ Prisma Studio

* Start Prisma Studio to visually manage data:

```bash
npx prisma studio
```

* Opens on **localhost:5555**.
* Lets you **add, edit, view** rows like an admin dashboard.

---

## ðŸ§‘â€ðŸ’» Using Prisma Client

### Import & Setup

```ts
import { PrismaClient } from "@prisma/client";
const prisma = new PrismaClient();
```

### Example Structure

```ts
async function main() {
  // CRUD operations will go here
}

main()
  .catch(e => console.error(e))
  .finally(async () => {
    await prisma.$disconnect();
    process.exit(1);
  });
```

ðŸ‘‰ Ensures queries run smoothly and connection closes properly.

---

## âœ… Key Takeaways

* Prisma = **Modern, beginner-friendly ORM** for Node.js.
* Main tools:

  * **Client** â†’ Query builder.
  * **Migrate** â†’ Schema management.
  * **Studio** â†’ Visual DB editor.
* Supports multiple databases (SQLite, PostgreSQL, MySQL, MongoDB).
* Makes DB work **faster, safer, and less error-prone**.

---