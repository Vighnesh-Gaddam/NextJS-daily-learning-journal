# ðŸŽ¬ Notes: Backend Dynamic Routes in Next.js

## ðŸ“Œ What are Dynamic Routes?

Dynamic routes allow us to **fetch data based on a variable (like `id`)** instead of creating multiple static routes.
Instead of having separate routes like:

```
/movies/1
/movies/2
/movies/3
```

We can use **one dynamic route**:

```
/movies/[id]
```

---

## ðŸ›  Steps to Create Dynamic Routes (Backend)

### 1. Create Dynamic Route Folder

Inside `app/movies/[id]/route.ts`:

* Use `[id]` â†’ square brackets denote **dynamic segment**.
* Define `route.ts` instead of `page.tsx` (since this is backend).

---

### 2. Fetch Data by ID

```ts
// app/movies/[id]/route.ts
import { movies } from "../../../db";

export async function GET(
  _request: Request,
  { params }: { params: { id: string } }
) {
  const { id } = params;

  // Find movie by ID (convert id string to number)
  const movie = movies.find((m) => m.id === +id);

  // Return response
  if (movie) {
    return Response.json(movie);
  } else {
    return new Response(JSON.stringify({ error: "Movie not found" }), {
      status: 404,
      headers: { "Content-Type": "application/json" },
    });
  }
}
```

---

### 3. Test with Thunder Client / Postman

* **GET `/movies/3`** â†’ returns movie with ID `3`.
* **GET `/movies/100`** â†’ returns `{ "error": "Movie not found" }` with status `404`.

---

## âœ… Key Points

* Dynamic routes use `[id]` syntax.
* `params` object contains the dynamic value (e.g., `id`).
* Use `.find()` to locate the specific item.
* Always return proper response codes (`200` for success, `404` for not found).

---
