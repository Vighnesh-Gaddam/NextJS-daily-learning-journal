# 🏆 Challenge: Delete Books with DELETE

## 🎯 Goal

Create a **DELETE API** to remove a book by ID.

---

## 📝 Instructions

1. Inside `app/books/[id]/route.ts`, add a `DELETE` method.
2. Convert `params.id` to a number.
3. Use `.findIndex()` to locate the book.
4. If not found, return `{ "error": "Book not found" }` with status `404`.
5. If found, remove it using `.splice()` and return `{ "message": "Book deleted successfully" }` with status `200`.

---

## 📂 Example db.ts

```ts
export const books = [
  { id: 1, title: "Atomic Habits", author: "James Clear" },
  { id: 2, title: "The Pragmatic Programmer", author: "Andrew Hunt" },
  { id: 3, title: "Clean Code", author: "Robert C. Martin" },
];
```

---

## ✅ Expected Behavior

* **DELETE `/books/2`**

```json
{
  "message": "Book deleted successfully"
}
```

* **GET `/books/2`**

```json
{
  "error": "Book not found"
}
```

---

## 📝 Solution

### app/books/\[id]/route.ts

```ts
import { books } from "../../../db";

export async function DELETE(
  _request: Request,
  { params }: { params: { id: string } }
) {
  const bookId = +params.id;

  // Find book index
  const index = books.findIndex((b) => b.id === bookId);

  // If not found
  if (index === -1) {
    return new Response(JSON.stringify({ error: "Book not found" }), {
      status: 404,
      headers: { "Content-Type": "application/json" },
    });
  }

  // Remove book
  books.splice(index, 1);

  return new Response(
    JSON.stringify({ message: "Book deleted successfully" }),
    {
      status: 200,
      headers: { "Content-Type": "application/json" },
    }
  );
}
```

---