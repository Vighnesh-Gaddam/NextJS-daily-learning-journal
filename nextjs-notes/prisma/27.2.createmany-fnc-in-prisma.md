# Adding Multiple Movies Using Prisma (TypeScript)

## 1. Introduction

* After learning how to add a **single movie**, the next step is to add **multiple movies** at once.
* Prisma provides the `createMany` function for batch insertion.

---

## 2. Creating the Function

### 2.1 Define Async Function

* Create an asynchronous function `createMultipleMovies`.
* No parameters are needed for this basic implementation.

```ts
async function createMultipleMovies() {
  // Prisma query will go here
}
```

### 2.2 Use Prisma `createMany`

* Access the Prisma client and the `movie` model.
* Use `createMany` instead of `create`.
* Pass an **array of objects** as the `data` property.

```ts
const movies = await prisma.movie.createMany({
  data: [
    {
      title: "The Dark Knight",
      description: "Gotham’s hero faces the Joker.",
      genre: "Superhero",
      releaseDate: new Date("2008-07-18"),
      rating: 9.0,
    },
    {
      title: "Interstellar",
      description: "Journey across space to save humanity.",
      genre: "SciFi",
      releaseDate: new Date("2014-11-07"),
      rating: 8.6,
    },
    {
      title: "Alien Covenant",
      description: "A prequel to the Alien saga.",
      genre: "SciFi",
      releaseDate: new Date("2017-05-19"),
      rating: 6.4,
    },
  ],
});

console.log(movies);
```

> ⚡ Note: `createMany` **does not return the created records** by default; it typically returns a count of inserted rows.

---

## 3. Executing the Function

* Call the function inside your `main()` function.
* Use `await` because it’s asynchronous.

```ts
async function main() {
  await createMultipleMovies();
}

main();
```

---

## 4. Running the Script

* Use the same methods as before: TS Node or npm script.

```bash
# Using TS Node directly
npx ts-node src/index.ts

# Or via npm script
npm run dev
```

---

## 5. Verifying Multiple Movies in Prisma Studio

1. Start Prisma Studio:

```bash
npx prisma studio
```

2. Refresh the interface.
3. Verify that all movies (e.g., *The Dark Knight*, *Interstellar*, *Alien Covenant*) have been added.

---

## 6. Key Points

* **`createMany` vs `create`**

  * `create` → Single object.
  * `createMany` → Array of objects.
* Can be used to batch insert movies efficiently.
* Can store the result in a variable and log it (usually contains `count` of inserted rows).

---

## 7. Summary Steps

1. Define an **async function** `createMultipleMovies()`.
2. Use `prisma.movie.createMany({ data: [...] })`.
3. Include an array of movie objects with all required fields.
4. Call the function in `main()` with `await`.
5. Run the script using TS Node or npm script.
6. Verify entries in Prisma Studio.

---
