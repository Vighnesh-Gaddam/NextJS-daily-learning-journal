Got it üëç
Here‚Äôs a **detailed notes markdown** for your transcript about **Server Actions & Setup in Next.js with Prisma**, along with a commit message.

---

# Server Actions in Next.js (with Prisma Setup)

## 1. Default Form Behavior

* A simple HTML `<form>` sends input data via **URL query parameters**.
* Example:

  ```html
  <form>
    <input type="text" name="input" />
    <button>Add Todo</button>
  </form>
  ```
* When typing `hello` and submitting:

  ```
  ?input=hello
  ```

  * `input` ‚Üí comes from the `name` attribute of the `<input>`.
  * `hello` ‚Üí comes from the value entered into the input.

---

## 2. What are Server Actions?

* **Server Actions** = asynchronous functions executed on the **server**.
* How to create one:

  ```ts
  async function addTodo(formData: FormData) {
    "use server";
    const input = formData.get("input");
    // logic to save input
  }
  ```
* Key points:

  * Mark function with `"use server"`.
  * Bind function to form using the `action` attribute:

    ```tsx
    <form action={addTodo}>
      <input type="text" name="input" />
      <button>Add Todo</button>
    </form>
    ```
  * Use `formData.get("name")` to fetch input values.

---

## 3. Creating a Next.js App

* Create project:

  ```bash
  npx create-next-app@latest todos
  ```

  * TypeScript: Yes
  * ESLint: Yes
  * Tailwind CSS: Yes
  * `src/` directory: Yes
  * App Router: Yes
  * Turbopack: No
  * Customize import alias: No

* Cleanup:

  * Delete `public/` folder.
  * Remove favicon from `src/`.
  * Update `page.tsx` ‚Üí keep only a simple component (`Home`).

---

## 4. Setting up Prisma

### 4.1 Install Prisma

```bash
npm install prisma --save-dev
```

### 4.2 Initialize Prisma

```bash
npx prisma init
```

* Sets up `prisma/schema.prisma`.
* Update datasource provider ‚Üí SQLite:

  ```prisma
  datasource db {
    provider = "sqlite"
    url      = "file:./dev.db"
  }
  ```

### 4.3 Ignore Database Files

* Add to `.gitignore`:

  ```
  prisma/dev.db
  ```

---

## 5. Defining Prisma Model

* Update `schema.prisma`:

  ```prisma
  model Todo {
    id        String   @id @default(uuid())
    input     String
    createdAt DateTime @default(now())
  }
  ```

---

## 6. Run Migration

```bash
npx prisma migrate dev --name init
```

* Syncs schema to database.
* Start Prisma Studio:

  ```bash
  npx prisma studio
  ```
* Shows `Todo` table with fields: `id`, `input`, `createdAt`.

---

## 7. Initialize Prisma Client

* Create a helper in `utils/db.ts`:

  ```ts
  import { PrismaClient } from "@prisma/client";

  const db = new PrismaClient();
  export default db;
  ```

* This allows use of `db.todo.create`, `db.todo.findMany`, etc., inside server actions.

---

## 8. Summary

‚úÖ Default form ‚Üí submits via query params.
‚úÖ Server Actions ‚Üí async functions with `"use server"`.
‚úÖ Form ‚Üí `action={serverAction}` binds input to server logic.
‚úÖ Prisma setup ‚Üí model + migration + client for database connection.

---
