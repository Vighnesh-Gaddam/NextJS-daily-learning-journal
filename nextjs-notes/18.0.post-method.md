# üìå Notes: POST Method in Next.js Backend

## üéØ What is the POST Method?

The **POST** HTTP method is used to **send data from the client to the server** ‚Äî usually for **creating new records** (e.g., adding a new movie).

In Next.js (App Router), we implement this inside a `route.ts` file with an **exported `POST` function**.

---

## üõ† Steps to Create a POST API in Next.js

### 1. Define POST Method

Inside the `app/movies/route.ts`:

```ts
import { movies } from "../../db";

export async function POST(request: Request) {
  // Extract JSON body from the request
  const movie = await request.json();

  // Create a new movie object
  const newMovie = { ...movie };

  // Add it to our in-memory "database"
  movies.push(newMovie);

  // Return response
  return new Response(JSON.stringify(newMovie), {
    headers: { "Content-Type": "application/json" },
  });
}
```

---

### 2. Sending Data with Thunder Client / Postman

1. Open Thunder Client (or Postman).
2. Create a **new request** ‚Üí set method to **POST**.
3. URL ‚Üí `http://localhost:3000/movies`.
4. Go to **Body ‚Üí JSON** and send something like:

```json
{
  "id": 10,
  "name": "React Complete Guide",
  "rating": 10,
  "genre": "Action"
}
```

---

### 3. Expected Response

```json
{
  "id": 10,
  "name": "React Complete Guide",
  "rating": 10,
  "genre": "Action"
}
```

If you then switch to **GET `/movies`**, the new movie will be included in the list (while the server is running).

‚ö†Ô∏è Note: This does **not** persist to `db.ts`. Data resets when the server restarts.

---

## ‚úÖ Key Points

* Use `request.json()` to read the request body.
* Spread the incoming object into a new variable (`newMovie`).
* Push into your data array (in-memory DB).
* Always return a JSON response.
* This is **not permanent storage** ‚Äî real apps use a database.

---